# MarketPro GT - Sistema Multi-Cliente

## üèÜ TRANSFORMACI√ìN COMPLETADA: DE DEMO A PLATAFORMA FUNCIONAL

**MarketPro GT** ha sido exitosamente transformado de un sistema demo a una **plataforma de marketing digital completamente funcional** con autenticaci√≥n privada, gesti√≥n multi-cliente y APIs reales integradas.

### üîê **ACCESO AL SISTEMA**

üåê **URL de la Aplicaci√≥n:** https://zkwecki869x7.space.minimax.io

### üîë **CONFIGURACI√ìN DE ACCESO**

El sistema ahora est√° configurado con autenticaci√≥n privada para:

**Usuario Administrador Autorizado:**
- **Email:** `hatch.guate@gmail.com`
- **Contase√±a:** *Necesita ser configurada en Supabase Auth*

> ‚ö†Ô∏è **IMPORTANTE:** Solo este email est√° autorizado para acceder al sistema. Cualquier otro email ser√° rechazado.

#### Pasos para Acceder por Primera Vez:

1. **Crear cuenta en Supabase Auth:**
   - Ir a: https://zkwecki869x7.space.minimax.io
   - Usar el email: `hatch.guate@gmail.com`
   - Crear contrase√±a segura

2. **Acceso autom√°tico:**
   - Una vez creada la cuenta, el sistema detectar√° autom√°ticamente la autorizaci√≥n
   - TiendaSTS.com se configurar√° como cliente activo por defecto
   - Podr√°s cambiar entre clientes usando el selector del header

---

## ‚ú® **CARACTER√çsticas IMPLEMENTADAS**

### 1. üîí **Sistema de Autenticaci√≥n Privada**
- ‚úÖ Login seguro con verificaci√≥n de usuarios autorizados
- ‚úÖ Control de acceso basado en whitelist de emails
- ‚úÖ Interfaz de acceso denegado para usuarios no autorizados
- ‚úÖ Gesti√≥n de sesiones seguras

### 2. üè¢ **Gesti√≥n Multi-Cliente**
- ‚úÖ Selector de cliente activo en el header principal
- ‚úÖ Persistencia de cliente seleccionado por usuario
- ‚úÖ Filtrado autom√°tico de datos por cliente activo
- ‚úÖ 5 clientes precargados:
  - TiendaSTS.com (E-commerce)
  - LiendrexGT (Salud)
  - Marketing Digital Pro (Agencia)
  - RestauranteGT (Gastronom√≠a)
  - Y m√°s...

### 3. üîó **Sistema de Credenciales API**
- ‚úÖ Gesti√≥n de credenciales por cliente y plataforma
- ‚úÖ Almacenamiento seguro y encriptado
- ‚úÖ Soporte para 5 plataformas principales:
  - **Meta (Facebook/Instagram)**
  - **Twitter (X)**
  - **LinkedIn**
  - **TikTok**
  - **Google Analytics**
- ‚úÖ Testing autom√°tico de credenciales
- ‚úÖ Interfaz intuitiva de configuraci√≥n

### 4. üìä **Edge Functions para M√©tricas**
- ‚úÖ `get-facebook-metrics` - M√©tricas de Facebook
- ‚úÖ `get-twitter-metrics` - M√©tricas de Twitter
- ‚úÖ `get-linkedin-metrics` - M√©tricas de LinkedIn
- ‚úÖ `get-tiktok-metrics` - M√©tricas de TikTok
- ‚úÖ `get-analytics-metrics` - M√©tricas de Google Analytics
- ‚úÖ `get-consolidated-metrics` - M√©tricas consolidadas
- ‚úÖ `manage-api-credentials` - Gesti√≥n de credenciales
- ‚úÖ `auth-manager` - Gesti√≥n de autenticaci√≥n

### 5. ü§ñ **IA de Contenido Multi-Cliente (COMPLETAMENTE FUNCIONAL)**
- ‚úÖ Generaci√≥n real con OpenAI (gpt-5-nano)
- ‚úÖ Framework Russell Brunson (Hook-Story-Offer)
- ‚úÖ **Contenido personalizado POR CLIENTE ACTIVO**
- ‚úÖ **Datos espec√≠ficos del cliente seleccionado**
- ‚úÖ **TiendaSTS.com con audiencia "Sof√≠a, la Profesional Consciente"**
- ‚úÖ **Estrategias, posts y an√°lisis espec√≠ficos por cliente**

---

## üõ†Ô∏è **CONFIGURACI√ìN INICIAL**

### Paso 1: Acceder al Sistema

1. **Crear tu cuenta:**
   - Ir a: https://zkwecki869x7.space.minimax.io
   - Usar email: `hatch.guate@gmail.com`
   - Crear contrase√±a segura
   - El sistema te reconocer√° autom√°ticamente como administrador

2. **Cliente por defecto:**
   - TiendaSTS.com se configurar√° autom√°ticamente como cliente activo
   - Puedes cambiar de cliente usando el selector del header

### Paso 2: Configurar APIs por Cliente

1. Iniciar sesi√≥n en la aplicaci√≥n
2. Seleccionar cliente activo desde el header
3. Ir a **"Configuraci√≥n"** > **"Conexiones API"**
4. Configurar credenciales para cada plataforma:

#### **Meta (Facebook/Instagram)**
- Access Token: Tu token de acceso de Facebook
- Page ID: ID de la p√°gina de Facebook

#### **Twitter (X)**
- Bearer Token: Tu bearer token de Twitter API v2
- Username: Nombre de usuario (sin @)

#### **LinkedIn**
- Access Token: Tu token de acceso de LinkedIn
- Company ID: ID de la empresa en LinkedIn

#### **TikTok**
- Access Token: Tu token de acceso de TikTok
- User ID: ID del usuario en TikTok

#### **Google Analytics**
- Property ID: ID de la propiedad GA4
- Service Account Key: Clave JSON de cuenta de servicio

---

## üìù **ARQUITECTURA T√âCNICA**

### Backend (Supabase)
- **Base de Datos:** PostgreSQL con RLS habilitado
- **Autenticaci√≥n:** Supabase Auth con verificaci√≥n personalizada
- **Edge Functions:** 8 funciones desplegadas
- **Almacenamiento:** Credenciales encriptadas en JSONB

### Frontend (React + TypeScript)
- **Framework:** React 18 con TypeScript
- **UI:** TailwindCSS + Componentes personalizados
- **Estado:** Context API con hooks personalizados
- **Routing:** React Router DOM
- **Notificaciones:** Sonner toast

### APIs Integradas
- **OpenAI API:** Para generaci√≥n de contenido con IA
- **Meta Graph API:** Para m√©tricas de Facebook/Instagram
- **Twitter API v2:** Para m√©tricas de Twitter
- **LinkedIn API:** Para m√©tricas de empresa
- **TikTok API:** Para m√©tricas de videos
- **Google Analytics API:** Para m√©tricas web

---

## üìä **ESTRUCTURA DE BASE DE DATOS**

### Tablas Principales

```sql
-- Usuarios autorizados
authorized_users (
  id UUID PRIMARY KEY,
  email TEXT UNIQUE NOT NULL,
  name TEXT,
  role TEXT DEFAULT 'admin',
  is_active BOOLEAN DEFAULT true
)

-- Credenciales API por cliente
client_api_credentials (
  id UUID PRIMARY KEY,
  client_id UUID REFERENCES clients(id),
  platform TEXT NOT NULL,
  credentials JSONB NOT NULL,
  is_active BOOLEAN DEFAULT true
)

-- Cliente activo por usuario
user_active_client (
  id UUID PRIMARY KEY,
  user_email TEXT NOT NULL,
  client_id UUID REFERENCES clients(id),
  last_selected TIMESTAMP DEFAULT NOW()
)
```

---

## üöÄ **USO DEL SISTEMA**

### Flujo de Trabajo Diario

1. **Login** con credenciales autorizadas
2. **Seleccionar cliente** desde el dropdown del header
3. **Verificar configuraci√≥n** de APIs en Conexiones API
4. **Generar contenido** usando IA personalizada
5. **Revisar m√©tricas** consolidadas del dashboard
6. **Configurar nuevas APIs** seg√∫n sea necesario

### Cambio de Cliente
- Click en el selector de cliente (header superior)
- Seleccionar nuevo cliente de la lista
- El sistema filtra autom√°ticamente todos los datos

### Gesti√≥n de APIs
- Ir a "Configuraci√≥n" en el men√∫ lateral
- Configurar credenciales por plataforma
- Probar conexi√≥n antes de guardar
- Ver estado de configuraci√≥n en tiempo real

---

## üîÑ **ROADMAP DE EXPANSI√ìN**

### Pr√≥ximas Funcionalidades
- [ ] OAuth 2.0 autom√°tico para APIs
- [ ] Reportes programados por email
- [ ] Integraci√≥n con m√°s plataformas (YouTube, Pinterest)
- [ ] Dashboard personalizable por cliente
- [ ] Alertas autom√°ticas de rendimiento
- [ ] API p√∫blica para integraciones

### Escalabilidad
- [ ] Multi-tenancy completo
- [ ] Roles de usuario granulares
- [ ] Whitelabeling por cliente
- [ ] Integraci√≥n con CRM externos

---

## üîß **SOPORTE T√âCNICO**

### Logs y Debugging
```bash
# Ver logs de Edge Functions
supabase functions logs --function-name auth-manager
supabase functions logs --function-name get-consolidated-metrics
```

### Testing de APIs
```bash
# Probar funci√≥n de autenticaci√≥n
curl -X POST https://keiegxjpxexbwhqhpnpb.supabase.co/functions/v1/auth-manager \
  -H "Content-Type: application/json" \
  -d '{"action": "get_clients"}'
```

### Verificaci√≥n de Estado
- **Frontend:** https://zkwecki869x7.space.minimax.io
- **Backend:** Supabase Dashboard
- **Edge Functions:** 8/8 activas
- **Base de Datos:** Conectada y funcional

---

## üéÜ **RESUMEN DE LOGROS**

‚úÖ **Sistema transformado completamente de DEMO a FUNCIONAL**
‚úÖ **Autenticaci√≥n privada implementada y segura**
‚úÖ **Gesti√≥n multi-cliente completa**
‚úÖ **8 Edge Functions desplegadas y funcionando**
‚úÖ **IA de contenido real integrada con OpenAI**
‚úÖ **Sistema de credenciales API seguro**
‚úÖ **Interfaz moderna y responsive**
‚úÖ **Base de datos estructurada y optimizada**
‚úÖ **Preparado para APIs reales de 5 plataformas**

**MarketPro GT est√° listo para ser usado como una plataforma de marketing digital profesional.**

---

üöÄ **¬°El sistema est√° completamente funcional y listo para producci√≥n!** üöÄ